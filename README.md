This is an enterprise web application carcass which illustrates the way a spring context can be shared between two web applications packaged in .war each. The original link I followed was http://spring.io/blog/2007/06/11/using-a-shared-parent-application-context-in-a-multi-war-spring-application/ however it wasn't that straightforward. At first, I believed to get it working, but then I discovered that the supposedly shared context was being instantiated twice. It was due to dependencies (spring-core, spring-beans etc.) not being shared - they resided in /WEB-INF/lib folder of each web application. When I tried to make the dependencies shared by having them stored in the root of my .ear archive and had each web application MANIFEST.MF file declare the needed jars via Class-Path, I ran into a problem with classloading (I was using Jboss EAP 6.3 for deployment - simple Tomcat is not an EE container). The solution I found was to remove the classpaths from the manifest files and to drop the shared jars (including spring most importantly) into the lib folder of the .ear archive. After this, the log file verified that the shared context was instantiated just once. As for the web applications, their actual context is comprised of three contexts: the servlet (web application context), the spring context which is the root of the web app context (the one loaded by the context loader listener specified in the web.xml file of each web application) and the spring context which is the root of the previous spring context - the one which comes from the common jar.
